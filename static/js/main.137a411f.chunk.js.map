{"version":3,"sources":["Utils/Common.js","Login.js","SignUp.js","Dashboard.js","Home.js","Utils/PrivateRoute.js","Utils/PublicRoute.js","App.js","index.js"],"names":["getData","token","getToken","axios","get","headers","then","response","document","getElementById","innerHTML","data","user","about","sessionStorage","getItem","removeUserSession","removeItem","setUserSession","setItem","useFormInput","initialValue","useState","value","setValue","onChange","e","target","Login","props","loading","setLoading","username","password","error","setError","type","autoComplete","style","marginTop","color","onClick","post","email","message","alert","history","push","catch","status","disabled","SignUp","Dashboard","id","Home","PrivateRoute","Component","component","rest","render","to","pathname","state","from","location","PublicRoute","App","authLoading","setAuthLoading","useEffect","className","exact","activeClassName","path","ReactDOM"],"mappings":"gRAGaA,EAAU,WACrB,IAAMC,EAAQC,IACdC,IAAMC,IAAI,kDAAmD,CAC3DC,QAAS,CAAE,cAAgB,GAAhB,OAAoBJ,MAAYK,MAAK,SAAAC,GAC9CC,SAASC,eAAe,OAAOC,UAAaH,EAASI,KAAKC,KAAKC,UAKxDX,EAAW,WACtB,OAAOY,eAAeC,QAAQ,UAInBC,EAAoB,WAC/BF,eAAeG,WAAW,UAIfC,EAAiB,SAACjB,GAC7Ba,eAAeK,QAAQ,QAASlB,IC2BlC,IAAMmB,EAAe,SAAAC,GAAiB,IAAD,EACTC,mBAASD,GADA,mBAC5BE,EAD4B,KACrBC,EADqB,KAMnC,MAAO,CACLD,QACAE,SALmB,SAAAC,GACnBF,EAASE,EAAEC,OAAOJ,UAQPK,EA1Df,SAAeC,GAAQ,IAAD,EACUP,oBAAS,GADnB,mBACbQ,EADa,KACJC,EADI,KAEdC,EAAWZ,EAAa,IACxBa,EAAWb,EAAa,IAHV,EAIME,mBAAS,MAJf,mBAIbY,EAJa,KAINC,EAJM,KA6BpB,OACE,qCACO,6BAAM,6BACX,wCACU,6BACR,yCAAOC,KAAK,QAAWJ,EAAvB,CAAiCK,aAAa,mBAEhD,yBAAKC,MAAO,CAAEC,UAAW,KAAzB,WACU,6BACR,yCAAOH,KAAK,YAAeH,EAA3B,CAAqCI,aAAa,mBAEnDH,GAAS,oCAAE,2BAAOI,MAAO,CAAEE,MAAO,QAAUN,GAAc,8BAAU,6BACrE,2BAAOE,KAAK,SAASb,MAAOO,EAAU,aAAe,QAASW,QAlC9C,WAClBN,EAAS,MACTJ,GAAW,GACX5B,IAAMuC,KAAK,mDAAoD,CAAEC,MAAOX,EAAST,MAAQU,SAAUA,EAASV,QAASjB,MAAK,SAAAC,GACxHwB,GAAW,GACc,wBAAtBxB,EAASI,KAAKuB,OAAyD,wBAAxB3B,EAASI,KAAKiC,QAE9D1B,EAAe,IAIjBA,EAAeX,EAASI,KAAKV,OAE7B4C,MAAMtC,EAASI,KAAKiC,SAAUrC,EAASI,KAAKuB,OAC1CL,EAAMiB,QAAQC,KAAK,iBACpBC,OAAM,SAAAd,GACPH,GAAW,GACmB,MAA1BG,EAAM3B,SAAS0C,OAAgBd,EAASD,EAAM3B,SAASI,KAAKiC,SAC3DT,EAAS,qDAgBsEe,SAAUpB,IAAW,+BCE/G,IAAMV,EAAe,SAAAC,GAAiB,IAAD,EACTC,mBAASD,GADA,mBAC5BE,EAD4B,KACrBC,EADqB,KAMnC,MAAO,CACLD,QACAE,SALmB,SAAAC,GACnBF,EAASE,EAAEC,OAAOJ,UAQP4B,EAvDf,SAAgBtB,GAAQ,IAAD,EACSP,oBAAS,GADlB,mBACdQ,EADc,KACLC,EADK,KAEfY,EAAQvB,EAAa,IACrBa,EAAWb,EAAa,IACxBP,EAAQO,EAAa,IAJN,EAKKE,mBAAS,MALd,mBAKdY,EALc,KAKPC,EALO,KAsBrB,OACE,uCACS,6BAAM,6BACb,sCACQ,6BACN,yCAAOC,KAAK,QAAWO,EAAvB,CAA8BN,aAAa,mBAE7C,yBAAKC,MAAO,CAAEC,UAAW,KAAzB,WACU,6BACR,yCAAOH,KAAK,YAAeH,EAA3B,CAAqCI,aAAa,mBAEpD,yBAAKC,MAAO,CAAEC,UAAW,KAAzB,QACO,6BACL,yCAAOH,KAAK,QAAWvB,EAAvB,CAA8BwB,aAAa,mBAE5CH,GAAS,oCAAE,2BAAOI,MAAO,CAAEE,MAAO,QAAUN,GAAc,8BAAU,6BACrE,2BAAOE,KAAK,SAASb,MAAOO,EAAU,aAAe,UAAWW,QA9B/C,WACnBN,EAAS,MACTJ,GAAW,GACX5B,IAAMuC,KAAK,oDAAqD,CAAEC,MAAOA,EAAMpB,MAAQU,SAAUA,EAASV,MAAQV,MAAMA,EAAMU,QAAQjB,MAAK,SAAAC,GACzIwB,GAAW,GACXc,MAAMtC,EAASI,KAAKiC,SACpBf,EAAMiB,QAAQC,KAAK,aAClBC,OAAM,SAAAd,GACPH,GAAW,GACmB,MAA1BG,EAAM3B,SAAS0C,OAAgBd,EAASD,EAAM3B,SAASI,KAAKiC,SAC3DT,EAAS,qDAoByEe,SAAUpB,IAAW,+BCxBnGsB,MAhBf,SAAmBvB,GAOjB,OANA7B,IAOE,0CACY,0BAAMqD,GAAG,QADrB,IACmC,6BAAM,6BACvC,2BAAOjB,KAAK,SAASK,QAPJ,WACnBzB,IACAa,EAAMiB,QAAQC,KAAK,WAK2BxB,MAAM,aCFzC+B,MARf,WACE,OACE,2D,QCUWC,MATf,YAA0D,IAAvBC,EAAsB,EAAjCC,UAAyBC,EAAQ,6BACvD,OACE,kBAAC,IAAD,iBACMA,EADN,CAEEC,OAAQ,SAAC9B,GAAD,OAAY3B,IAAc,kBAACsD,EAAc3B,GAAY,kBAAC,IAAD,CAAU+B,GAAI,CAAEC,SAAU,SAAUC,MAAO,CAAEC,KAAMlC,EAAMmC,kBCK7GC,MATf,YAAyD,IAAvBT,EAAsB,EAAjCC,UAAyBC,EAAQ,6BACtD,OACE,kBAAC,IAAD,iBACMA,EADN,CAEEC,OAAQ,SAAC9B,GAAD,OAAY3B,IAAwC,kBAAC,IAAD,CAAU0D,GAAI,CAAEC,SAAU,gBAArD,kBAACL,EAAc3B,QC2CvCqC,MAxCf,WAAgB,IAAD,EACyB5C,oBAAS,GADlC,mBACN6C,EADM,KACOC,EADP,KAYb,OATAC,qBAAU,WACR,IAAMpE,EAAQC,IACTD,IAGHiB,EAAejB,GACfmE,GAAe,OAGfD,GAAejE,IACV,yBAAKoE,UAAU,WAAf,8BAIP,yBAAKA,UAAU,OACb,kBAAC,IAAD,KACE,6BACE,yBAAKA,UAAU,UACb,kBAAC,IAAD,CAASC,OAAK,EAACC,gBAAgB,SAASZ,GAAG,KAA3C,QACA,kBAAC,IAAD,CAASY,gBAAgB,SAASZ,GAAG,UAArC,SACA,kBAAC,IAAD,CAASY,gBAAgB,SAASZ,GAAG,WAArC,UACA,kBAAC,IAAD,CAASY,gBAAgB,SAASZ,GAAG,cAArC,cAEF,yBAAKU,UAAU,WACb,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOC,OAAK,EAACE,KAAK,IAAIhB,UAAWH,IACjC,kBAAC,EAAD,CAAamB,KAAK,SAAShB,UAAW7B,IACtC,kBAAC,EAAD,CAAc6C,KAAK,aAAahB,UAAWL,IAC3C,kBAAC,EAAD,CAAaqB,KAAK,UAAUhB,UAAWN,UCtCrDuB,IAASf,OAAO,kBAAC,EAAD,MAASnD,SAASC,eAAe,W","file":"static/js/main.137a411f.chunk.js","sourcesContent":["\r\nimport axios from 'axios';\r\n// return the user data from the session storage\r\nexport const getData = () => {\r\n  const token = getToken();\r\n  axios.get(\"https://express-auth-jwt.onrender.com/auth/info\", {\r\n    headers: { \"Authorization\": `${token}` }}).then(response => {\r\n      document.getElementById('roh').innerHTML = (response.data.user.about);\r\n    });\r\n}\r\n\r\n// return the token from the session storage\r\nexport const getToken = () => {\r\n  return sessionStorage.getItem('token');\r\n}\r\n\r\n// remove the token and user from the session storage\r\nexport const removeUserSession = () => {\r\n  sessionStorage.removeItem('token');\r\n}\r\n\r\n// set the token and user from the session storage\r\nexport const setUserSession = (token) => {\r\n  sessionStorage.setItem('token', token);\r\n}","import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport {  setUserSession } from './Utils/Common';\r\n\r\nfunction Login(props) {\r\n  const [loading, setLoading] = useState(false);\r\n  const username = useFormInput('');\r\n  const password = useFormInput('');\r\n  const [error, setError] = useState(null);\r\n\r\n  // handle button click of login form\r\n  const handleLogin = () => {\r\n    setError(null);\r\n    setLoading(true);\r\n    axios.post('https://express-auth-jwt.onrender.com/auth/login', { email: username.value , password: password.value }).then(response => {\r\n      setLoading(false);\r\n      if(response.data.error===\"User does not exist\" || response.data.message===\"Invalid credentials\")\r\n      {\r\n        setUserSession(\"\"); \r\n      }\r\n      else\r\n      {\r\n      setUserSession(response.data.token);\r\n      }\r\n      alert(response.data.message|| response.data.error);\r\n        props.history.push('/dashboard');\r\n    }).catch(error => {\r\n      setLoading(false);\r\n      if (error.response.status === 401) setError(error.response.data.message);\r\n      else setError(\"Something went wrong. Please try again later.\");\r\n  });\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      Login<br /><br />\r\n      <div>\r\n        Username<br />\r\n        <input type=\"text\" {...username} autoComplete=\"new-password\" />\r\n      </div>\r\n      <div style={{ marginTop: 10 }}>\r\n        Password<br />\r\n        <input type=\"password\" {...password} autoComplete=\"new-password\" />\r\n      </div>\r\n      {error && <><small style={{ color: 'red' }}>{error}</small><br /></>}<br />\r\n      <input type=\"button\" value={loading ? 'Loading...' : 'Login'} onClick={handleLogin} disabled={loading} /><br />\r\n    </div>\r\n  );\r\n}\r\n\r\nconst useFormInput = initialValue => {\r\n  const [value, setValue] = useState(initialValue);\r\n\r\n  const handleChange = e => {\r\n    setValue(e.target.value);\r\n  }\r\n  return {\r\n    value,\r\n    onChange: handleChange\r\n  }\r\n}\r\n\r\nexport default Login;","import React, { useState } from 'react';\r\nimport axios from 'axios';\r\n// import { setUserSession } from './Utils/Common';\r\n\r\nfunction SignUp(props) {\r\n  const [loading, setLoading] = useState(false);\r\n  const email = useFormInput('');\r\n  const password = useFormInput('');\r\n  const about = useFormInput('');\r\n  const [error, setError] = useState(null);\r\n\r\n  // handle button click of login form\r\n  const handleSignUp = () => {\r\n    setError(null);\r\n    setLoading(true);\r\n    axios.post('https://express-auth-jwt.onrender.com/auth/signup', { email: email.value , password: password.value , about:about.value}).then(response => {\r\n      setLoading(false);\r\n      alert(response.data.message);\r\n      props.history.push('/login');\r\n    }).catch(error => {\r\n      setLoading(false);\r\n      if (error.response.status === 401) setError(error.response.data.message);\r\n      else setError(\"Something went wrong. Please try again later.\");\r\n  });\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      Sign Up<br /><br />\r\n      <div>\r\n        E-mail<br />\r\n        <input type=\"text\" {...email} autoComplete=\"new-password\" />\r\n      </div>\r\n      <div style={{ marginTop: 10 }}>\r\n        Password<br />\r\n        <input type=\"password\" {...password} autoComplete=\"new-password\" />\r\n      </div>\r\n      <div style={{ marginTop: 10 }}>\r\n        About<br />\r\n        <input type=\"text\" {...about} autoComplete=\"new-password\" />\r\n      </div>\r\n      {error && <><small style={{ color: 'red' }}>{error}</small><br /></>}<br />\r\n      <input type=\"button\" value={loading ? 'Loading...' : 'Sign Up'} onClick={handleSignUp} disabled={loading} /><br />\r\n    </div>\r\n  );\r\n}\r\n\r\nconst useFormInput = initialValue => {\r\n  const [value, setValue] = useState(initialValue);\r\n\r\n  const handleChange = e => {\r\n    setValue(e.target.value);\r\n  }\r\n  return {\r\n    value,\r\n    onChange: handleChange\r\n  }\r\n}\r\n\r\nexport default SignUp;","import React from 'react';\r\nimport { getData, removeUserSession } from './Utils/Common';\r\nfunction Dashboard(props) {\r\n  getData();\r\n  // handle click event of logout button\r\n  const handleLogout = () => {\r\n    removeUserSession();\r\n    props.history.push('/login');\r\n  }\r\n  return (\r\n    <div>\r\n      Welcome ! <span id=\"roh\"></span> <br /><br />\r\n      <input type=\"button\" onClick={handleLogout} value=\"Logout\" />\r\n    </div>\r\n  );\r\n\r\n}\r\n\r\nexport default Dashboard;\r\n","import React from 'react';\r\n\r\nfunction Home() {\r\n  return (\r\n    <div>\r\n      Welcome to the Home Page!\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { getToken } from './Common';\r\n\r\n// handle the private routes\r\nfunction PrivateRoute({ component: Component, ...rest }) {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) => (getToken()) ? <Component {...props} /> : <Redirect to={{ pathname: '/login', state: { from: props.location } }} />}\r\n    />\r\n  )\r\n}\r\n\r\nexport default PrivateRoute;","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { getToken } from './Common';\r\n\r\n// handle the public routes\r\nfunction PublicRoute({ component: Component, ...rest }) {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) => !getToken() ? <Component {...props} /> : <Redirect to={{ pathname: '/dashboard' }} />}\r\n    />\r\n  )\r\n}\r\n\r\nexport default PublicRoute;","import React, { useState, useEffect } from 'react';\r\nimport { BrowserRouter, Switch, Route, NavLink } from 'react-router-dom';\r\n\r\nimport Login from './Login';\r\nimport SignUp from './SignUp';\r\nimport Dashboard from './Dashboard';\r\nimport Home from './Home';\r\n\r\nimport PrivateRoute from './Utils/PrivateRoute';\r\nimport PublicRoute from './Utils/PublicRoute';\r\nimport { getToken, setUserSession } from './Utils/Common';\r\n\r\nfunction App() {\r\n  const [authLoading, setAuthLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const token = getToken();\r\n    if (!token) {\r\n      return;\r\n    }\r\n      setUserSession(token);\r\n      setAuthLoading(false);\r\n    });\r\n\r\n  if (authLoading && getToken()) {\r\n    return <div className=\"content\">Checking Authentication...</div>\r\n  }\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <BrowserRouter>\r\n        <div>\r\n          <div className=\"header\">\r\n            <NavLink exact activeClassName=\"active\" to=\"/\">Home</NavLink>\r\n            <NavLink activeClassName=\"active\" to=\"/login\">Login</NavLink>\r\n            <NavLink activeClassName=\"active\" to=\"/signup\">SignUp</NavLink>\r\n            <NavLink activeClassName=\"active\" to=\"/dashboard\">Dashboard</NavLink>\r\n          </div>\r\n          <div className=\"content\">\r\n            <Switch>\r\n              <Route exact path=\"/\" component={Home} />\r\n              <PublicRoute path=\"/login\" component={Login} />\r\n              <PrivateRoute path=\"/dashboard\" component={Dashboard} />\r\n              <PublicRoute path=\"/signup\" component={SignUp} />\r\n            </Switch>\r\n          </div>\r\n        </div>\r\n      </BrowserRouter>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}